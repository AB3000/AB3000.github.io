{"ast":null,"code":"import earcut from \"earcut\";\nimport { createTopology, collapseTopology } from \"./topology.js\";\nexport default function (ring, numPieces) {\n  return collapseTopology(createTopology(cut(ring), ring), numPieces);\n}\nexport function cut(ring) {\n  let cuts = earcut(ring.reduce((arr, point) => [...arr, point[0], point[1]], [])),\n      triangles = [];\n\n  for (let i = 0, l = cuts.length; i < l; i += 3) {\n    // Save each triangle as segments [a, b], [b, c], [c, a]\n    triangles.push([[cuts[i], cuts[i + 1]], [cuts[i + 1], cuts[i + 2]], [cuts[i + 2], cuts[i]]]);\n  }\n\n  return triangles;\n}","map":null,"metadata":{},"sourceType":"module"}